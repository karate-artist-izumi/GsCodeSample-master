<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="css/style.css">
<title>GoogleBookAPI【練習】</title>
</head>
<body>

<header>
  <h1>GoogleBookAPI【練習】</h1>

    タイトル<input type="text" id="title">
    <button id="save">検索</button>

</header>

<main>
  <div id="box">

    <p id="content">console.dirで表示［右クリック → 検証 → consoleで確認］</p>
    <p id="content1">console.dirで表示［右クリック → 検証 → consoleで確認］</p>
  </div>

    
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

const url = "https://www.googleapis.com/books/v1/volumes?q=jquery";

$.getJSON(url , function(data){
  console.log(data);
  console.log(data.items[2].volumeInfo.title);

  let vew = "";
  for(let i = 0; i<data.items.length; i++){
    const item = data.items[i];

    vew +='<ul>';
    vew +='<li>'+item.volumeInfo.title+'</li>';
    vew +='</ul>';

    $("#content").html(vew);
  }

});

$("#save").on("click",function(){
  const title = $("#title").val();
  let url2 = 'https://www.googleapis.com/books/v1/volumes?q='+title+'';

  console.log(title);

  $.getJSON(url2,function(data2){
    console.log(data2);
    console.log(data2.items[0].volumeInfo.title);

    let vew2 = "";
    for(let i = 0; i<data2.items.length; i++){

      vew2 += '<ul>';
      vew2 += '<li>'+data2.items[i].volumeInfo.title+'</li>';
      vew2 += '</ul>';

      $("#content1").html(vew2);

    }

  });

});


</script>
</body>
</html>
